{"version":3,"file":"main-40fb446d.js","sources":["../../src/js/class-list.js","../../src/js/burger.js","../../src/js/slider.js","../../main.js"],"sourcesContent":["const CLASS_LIST = {\n  // burger.js\n  burgerActive: 'burger--active',\n  menuActive: 'header__left--active',\n  navActive: 'nav--active',\n  stopScroll: 'stop-scroll',\n};\n\nexport default CLASS_LIST;\n","import CLASS_LIST from './class-list';\n\nconst burger = document.querySelector('.burger');\n\nif (burger) {\n  const menu = document.querySelector('.header__left');\n  const nav = document.querySelector('.nav');\n  const menuLinks = menu.querySelectorAll('.nav__list-link');\n\n  const changeBurger = () => {\n    burger.classList.toggle(CLASS_LIST.burgerActive);\n    menu.classList.toggle(CLASS_LIST.menuActive);\n    nav.classList.toggle(CLASS_LIST.navActive);\n    document.body.classList.toggle(CLASS_LIST.stopScroll);\n  };\n\n  burger.addEventListener('click', () => {\n    changeBurger();\n  });\n\n  menuLinks.forEach((el) => {\n    el.addEventListener('click', () => {\n      if (burger.classList.contains(CLASS_LIST.burgerActive)) {\n        changeBurger();\n        document.body.classList.remove(CLASS_LIST.stopScroll);\n      }\n    });\n  });\n\n  document.addEventListener('click', (e) => {\n    if (!e.target.classList.contains('burger') && !e.target.closest('.header__left') && burger.classList.contains(CLASS_LIST.burgerActive)) {\n      changeBurger();\n    }\n  });\n\n  document.addEventListener('keydown', (e) => {\n    if (e.keyCode === 27) {\n      changeBurger();\n    }\n  });\n}\n","const initSlider = () => {\n  const sliderLine = document.querySelector('.favorite__slider-line');\n  const paginationLines = document.querySelectorAll('.slider-pagination-line');\n  const paginationLinesActive = document.querySelectorAll('.favorite__slider-pagination-line--active');\n  const nextBtn = document.querySelector('.slider-navigation-next');\n  const prevBtn = document.querySelector('.slider-navigation-prev');\n  const slides = document.querySelectorAll('.slider-slide');\n\n  const sliderLineStyle = getComputedStyle(sliderLine);\n\n  const slideIntervalDuration = 5000;\n  const progressIntervalDuration = 500;\n  const disableIntervalDuration = 1000;\n\n  const zeroStep = 0;\n  const initialStep = 10;\n  const fullStep = 100;\n  const quarterSlide = 4;\n  const halfSlide = 2;\n\n  let step = 0;\n\n  let slideWidth;\n  let slidesLineGap;\n  let slideSize;\n\n  slideWidth = slides[0].clientWidth;\n  slidesLineGap = parseInt(sliderLineStyle.getPropertyValue('gap'), 10);\n  slideSize = slideWidth + slidesLineGap;\n\n  let displacement = 0;\n  let currentSlide = 0;\n  let startX = 0;\n  let endX = 0;\n  let lastWindowWidth;\n  let slideIntervalID;\n  let progressIntervalID;\n\n  const progressBarAnimation = (activeSlide) => {\n    if (step >= fullStep) {\n      step = zeroStep;\n      paginationLinesActive[activeSlide].style.width = '0%';\n      nextSlide();\n      startInterval();\n    } else {\n      step += initialStep;\n      paginationLinesActive[activeSlide].style.width = `${step}%`;\n    }\n  };\n\n  const prevSlide = () => {\n    paginationLinesActive[currentSlide].style.width = '0%';\n    step = initialStep;\n    currentSlide -= 1;\n\n    if (displacement === 0) {\n      currentSlide = paginationLines.length - 1;\n      displacement -= (paginationLines.length - 1) * slideSize;\n    } else {\n      displacement += slideSize;\n    }\n\n    sliderLine.style.transform = `translateX(${displacement}px)`;\n    prevBtn.disabled = true;\n\n    setTimeout(() => {\n      prevBtn.disabled = false;\n    }, disableIntervalDuration);\n  };\n\n  const nextSlide = () => {\n    paginationLinesActive[currentSlide].style.width = '0%';\n    step = initialStep;\n    currentSlide += 1;\n\n    if (displacement === -(paginationLines.length - 1) * slideSize) {\n      currentSlide = 0;\n      displacement = 0;\n    } else {\n      displacement -= slideSize;\n    }\n\n    sliderLine.style.transform = `translateX(${displacement}px)`;\n    nextBtn.disabled = true;\n\n    setTimeout(() => {\n      nextBtn.disabled = false;\n    }, disableIntervalDuration);\n  };\n\n  window.addEventListener('resize', () => {\n    if (window.innerWidth !== lastWindowWidth) {\n      displacement = 0;\n      currentSlide = 0;\n      slideWidth = slides[0].clientWidth;\n      slidesLineGap = parseInt(sliderLineStyle.getPropertyValue('gap'), 10);\n      slideSize = slideWidth + slidesLineGap;\n      sliderLine.style.transform = 'translateX(0px)';\n      paginationLinesActive.forEach((lineActive) => lineActive.style.width = '0%');\n      step = initialStep;\n      lastWindowWidth = window.innerWidth;\n    }\n  });\n\n  const pauseInterval = () => {\n    clearInterval(slideIntervalID);\n    clearInterval(progressIntervalID);\n  };\n\n  const startInterval = () => {\n    pauseInterval();\n\n    progressIntervalID = setInterval(() => {\n      progressBarAnimation(currentSlide);\n    }, progressIntervalDuration);\n\n    slideIntervalID = setInterval(() => {\n      nextSlide();\n    }, slideIntervalDuration);\n  };\n\n  nextBtn.addEventListener('click', () => {\n    pauseInterval();\n    startInterval();\n    nextSlide();\n  });\n\n  prevBtn.addEventListener('click', () => {\n    pauseInterval();\n    startInterval();\n    prevSlide();\n  });\n\n  const handleMouseOut = (slide) => {\n    startX = slide.offsetX;\n  };\n\n  const handleMouseDown = (slide) => {\n    endX = slide.offsetX;\n\n    if (startX < endX && endX - startX > slideWidth / quarterSlide) {\n      prevSlide();\n    }\n\n    if (startX > endX && startX - endX > slideWidth / quarterSlide) {\n      nextSlide();\n    }\n\n    startInterval();\n  };\n\n  const handleTouchStart = (event) => {\n    pauseInterval();\n    startX = event.touches[0].clientX;\n  };\n\n  const handleTouchEnd = (event) => {\n    endX = event.changedTouches[0].clientX;\n\n    if (endX - startX > slideWidth / halfSlide) {\n      prevSlide();\n    }\n\n    if (startX - endX > slideWidth / halfSlide) {\n      nextSlide();\n    }\n\n    pauseInterval();\n    startInterval();\n  };\n\n  slides.forEach((slide) => {\n    slide.addEventListener('mouseover', pauseInterval, { passive: true });\n    slide.addEventListener('mouseout', startInterval, { passive: true });\n    slide.addEventListener('mousedown', (el) => handleMouseOut(el), { passive: true });\n    slide.addEventListener('mouseup', (el) => handleMouseDown(el), { passive: true });\n    slide.addEventListener('touchstart', handleTouchStart, { passive: true });\n    slide.addEventListener('touchend', handleTouchEnd, { passive: true });\n  });\n\n  startInterval();\n};\n\nexport default initSlider;\n","import './src/scss/style.scss';\nimport './src/js/burger';\nimport initSlider from './src/js/slider';\n\nwindow.addEventListener('load', () => {\n  initSlider();\n});\n"],"names":["CLASS_LIST","burger","menu","nav","menuLinks","changeBurger","el","e","initSlider","sliderLine","paginationLines","paginationLinesActive","nextBtn","prevBtn","slides","sliderLineStyle","slideIntervalDuration","progressIntervalDuration","disableIntervalDuration","zeroStep","initialStep","fullStep","quarterSlide","halfSlide","step","slideWidth","slidesLineGap","slideSize","displacement","currentSlide","startX","endX","lastWindowWidth","slideIntervalID","progressIntervalID","progressBarAnimation","activeSlide","nextSlide","startInterval","prevSlide","lineActive","pauseInterval","handleMouseOut","slide","handleMouseDown","handleTouchStart","event","handleTouchEnd"],"mappings":"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"}