{"version":3,"file":"menu-6ab6ed6d.js","sources":["../../menu/src/js/burger.js","../../menu/src/js/modal.js","../../menu/src/js/menu-list.js"],"sourcesContent":["/* eslint-disable no-undef */\nconst burger = document.querySelector('.burger');\n\nif (burger) {\n  const menu = document.querySelector('.header__left');\n  const nav = document.querySelector('.nav');\n  const menuLinks = menu.querySelectorAll('.nav__list-link');\n\n  const changeBurger = () => {\n    burger.classList.toggle('burger--active');\n    menu.classList.toggle('header__left--active');\n    nav.classList.toggle('nav--active');\n    document.body.classList.toggle('stop-scroll');\n  };\n\n  burger.addEventListener('click', () => {\n    changeBurger();\n  });\n\n  menuLinks.forEach((el) => {\n    el.addEventListener('click', () => {\n      if (burger.classList.contains('burger--active')) {\n        changeBurger();\n        document.body.classList.remove('stop-scroll');\n      }\n    });\n  });\n\n  document.addEventListener('click', (e) => {\n    if (!e.target.classList.contains('burger') && !e.target.closest('.header__left') && burger.classList.contains('burger--active')) changeBurger();\n  });\n\n  document.addEventListener('keydown', (e) => {\n    if (e.keyCode === 27) changeBurger();\n  });\n}\n","/* eslint-disable no-undef */\nconst modal = document.querySelector('.menu__modal');\nconst modalOverlay = document.querySelector('.menu__modal-overlay');\nconst modalContent = document.querySelector('.menu__modal-content');\n\nlet isModalOpen = false;\n\nexport const toggleModal = () => {\n  if (isModalOpen) {\n    modal.classList.remove('modal--visible');\n    modalOverlay.classList.remove('modal__overlay--visible');\n    modalContent.classList.remove('modal__content--visible');\n    document.body.classList.remove('stop-scroll');\n    isModalOpen = false;\n  } else {\n    modal.classList.add('modal--visible');\n    modalOverlay.classList.add('modal__overlay--visible');\n    modalContent.classList.add('modal__content--visible');\n    document.body.classList.add('stop-scroll');\n    isModalOpen = true;\n  }\n};\n\ndocument.addEventListener('click', (e) => {\n  if (!e.target.closest('.menu__modal-content') && !e.target.closest('.menu__list-item') && modalContent.classList.contains('modal__content--visible')) toggleModal();\n});\n\nexport default toggleModal;\n","/* eslint-disable no-unused-expressions */\n/* eslint-disable no-undef */\nimport data from '../data/data.json';\nimport { toggleModal } from './modal';\n\nconst menuBtns = document.querySelectorAll('.menu__tabs-btn');\nconst menuList = document.querySelector('.menu__list');\nconst menuBtnAdd = document.querySelector('.menu__btn-add');\nconst modalContent = document.querySelector('.menu__modal-content');\n\nlet currentItems = [];\nlet currentCategory = 'coffee';\nlet lastWindowWidth;\n\nif (window.innerWidth > 1320) {\n  menuBtnAdd.classList.remove('menu__btn-add--visible');\n}\n\nconst createMenuListItem = (item, index) => {\n  const listItem = document.createElement('li');\n  listItem.classList.add('menu__list-item');\n  listItem.innerHTML = `\n  <article class=\"menu__card\">\n    <h2 class=\"visually-hidden\">card</h2>\n    <div class=\"menu__card-top\">\n      <img src=\"../img/jpg/${currentCategory}-${index + 1}.jpg\" alt=\"${item.name}\">\n    </div>\n    <div class=\"menu__card-bottom\">\n      <strong class=\"menu__card-title\">${item.name}</strong>\n      <p class=\"menu__card-descr\">${item.description}</p>\n      <span class=\"menu__card-price\">$${item.price}</span>\n    </div>\n  </article>\n  `;\n  menuList.append(listItem);\n  listItem.addEventListener('click', () => {\n    toggleModal();\n    // eslint-disable-next-line no-use-before-define\n    createMenuItemModal(listItem, item);\n  });\n};\n\nconst createMenuItemModal = (listItem, item) => {\n  modalContent.innerHTML = `\n  <div class=\"menu__modal-left\">\n    <div class=\"menu__modal-img\">\n      <img src=\"${listItem.querySelector('img').getAttribute('src')}\" alt=\"${listItem.querySelector('img').getAttribute('alt')}\">\n    </div>\n  </div>\n  <div class=\"menu__modal-right\">\n    <h3 class=\"menu__modal-title\">${listItem.querySelector('strong').textContent}</h3>\n    <p class=\"menu__modal-descr\">${listItem.querySelector('p').textContent}</p>\n    <div class=\"menu__modal-size\">\n      <span class=\"menu__modal-size-text\">Size</span>\n      <div class=\"menu__modal-size-btns\">\n        <button class=\"btn-reset menu__modal-size-btn menu__modal-size-btn--active\"><span class=\"menu__modal-size-name menu__modal-size-name--active\">${Object.keys(item.sizes)[0].toUpperCase()}</span>${Object.values(item.sizes)[0].size}</button>\n        <button class=\"btn-reset menu__modal-size-btn\"><span class=\"menu__modal-size-name\">${Object.keys(item.sizes)[1].toUpperCase()}</span>${Object.values(item.sizes)[1].size}</button>\n        <button class=\"btn-reset menu__modal-size-btn\"><span class=\"menu__modal-size-name\">${Object.keys(item.sizes)[2].toUpperCase()}</span>${Object.values(item.sizes)[2].size}</button>\n      </div>\n    </div>\n    <div class=\"menu__modal-additives\">\n      <span class=\"menu__modal-additives-text\">Additives</span>\n      <div class=\"menu__modal-additives-btns\">\n        <button class=\"btn-reset menu__modal-additives-btn\"><span class=\"menu__modal-additives-index\">1</span>${item.additives[0].name}</button>\n        <button class=\"btn-reset menu__modal-additives-btn\"><span class=\"menu__modal-additives-index\">2</span>${item.additives[1].name}</button>\n        <button class=\"btn-reset menu__modal-additives-btn\"><span class=\"menu__modal-additives-index\">3</span>${item.additives[2].name}</button>\n      </div>\n    </div>\n    <div class=\"menu__modal-total\">\n      <strong class=\"menu__modal-total-text\">Total:</strong>\n      <strong class=\"menu__modal-total-sum\">$${item.price}</strong>\n    </div>\n    <div class=\"menu__modal-info\">\n      <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g clip-path=\"url(#clip0_268_9737)\">\n        <path d=\"M8 7.66663V11\" stroke=\"#403F3D\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n        <path d=\"M8 5.00667L8.00667 4.99926\" stroke=\"#403F3D\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n        <path d=\"M8.00016 14.6667C11.6821 14.6667 14.6668 11.6819 14.6668 8.00004C14.6668 4.31814 11.6821 1.33337 8.00016 1.33337C4.31826 1.33337 1.3335 4.31814 1.3335 8.00004C1.3335 11.6819 4.31826 14.6667 8.00016 14.6667Z\" stroke=\"#403F3D\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n        </g>\n        <defs>\n        <clipPath id=\"clip0_268_9737\">\n        <rect width=\"16\" height=\"16\" fill=\"white\"/>\n        </clipPath>\n        </defs>\n      </svg>\n      <p class=\"menu__modal-info-text\">The cost is not final. Download our mobile app to see the final price and place your order. Earn loyalty points and enjoy your favorite coffee with up to 20% discount.</p>\n    </div>\n    <button class=\"btn-reset menu__modal-btn-close\">Close</button>\n  </div>\n  `;\n\n  modalContent.querySelector('.menu__modal-btn-close').addEventListener('click', toggleModal);\n\n  const initialPriceElement = document.querySelector('.menu__modal-total-sum');\n  const sizeButtons = document.querySelectorAll('.menu__modal-size-btn');\n  const additiveButtons = document.querySelectorAll('.menu__modal-additives-btn');\n\n  let basePrice = parseFloat(item.price);\n  let selectedSize = Object.keys(item.sizes)[0].toUpperCase();\n  let selectedSizePrice = parseFloat(Object.values(item.sizes)[0]['add-price']);\n\n  const updateTotalPrice = () => {\n    const totalPrice = basePrice + selectedSizePrice;\n    const formattedPrice = totalPrice.toFixed(2);\n    initialPriceElement.textContent = `$${formattedPrice}`;\n  };\n\n  sizeButtons.forEach((button) => {\n    button.addEventListener('click', () => {\n      const newSize = button.querySelector('.menu__modal-size-name');\n\n      sizeButtons.forEach((btn) => {\n        btn.classList.remove('menu__modal-size-btn--active');\n        btn.querySelector('.menu__modal-size-name').classList.remove('menu__modal-size-name--active');\n      });\n      button.classList.add('menu__modal-size-btn--active');\n      newSize.classList.add('menu__modal-size-name--active');\n\n      if (selectedSize !== newSize.textContent) {\n        selectedSize = newSize.textContent;\n        selectedSizePrice = parseFloat(item.sizes[newSize.textContent.toLowerCase()]['add-price']);\n        updateTotalPrice();\n      }\n    });\n  });\n\n  additiveButtons.forEach((button) => {\n    button.addEventListener('click', () => {\n      const selected = button.classList.contains('menu__modal-additives-btn--active');\n      const additiveIndex = button.querySelector('.menu__modal-additives-index');\n      const additiveIndexValue = Number(additiveIndex.textContent) - 1;\n      const additiveAddPrice = parseFloat(item.additives[additiveIndexValue]['add-price']);\n\n      button.classList.toggle('menu__modal-additives-btn--active');\n      additiveIndex.classList.toggle('menu__modal-additives-index--active');\n\n      selected ? basePrice -= additiveAddPrice : basePrice += additiveAddPrice;\n      updateTotalPrice();\n    });\n  });\n  updateTotalPrice();\n};\n\nconst render = (items) => {\n  menuList.innerHTML = '';\n  items.forEach((item, index) => {\n    createMenuListItem(item, index);\n    if (window.innerWidth < 1320) {\n      menuList.children.length > 4 ? menuBtnAdd.classList.add('menu__btn-add--visible') : menuBtnAdd.classList.remove('menu__btn-add--visible');\n      Array.from(menuList.children).slice(4).forEach((child) => child.classList.add('menu__list-item--hidden'));\n    }\n  });\n};\n\nwindow.addEventListener('resize', () => {\n  if (window.innerWidth !== lastWindowWidth) {\n    if (window.innerWidth < 1320) {\n      menuList.children.length > 4 ? menuBtnAdd.classList.add('menu__btn-add--visible') : menuBtnAdd.classList.remove('menu__btn-add--visible');\n      Array.from(menuList.children).slice(4).forEach((child) => child.classList.add('menu__list-item--hidden'));\n    } else {\n      menuBtnAdd.classList.remove('menu__btn-add--visible');\n      Array.from(menuList.children).forEach((child) => child.classList.remove('menu__list-item--hidden'));\n    }\n  }\n  lastWindowWidth = window.innerWidth;\n});\n\nmenuBtnAdd.addEventListener('click', () => {\n  menuBtnAdd.classList.remove('menu__btn-add--visible');\n  Array.from(menuList.children).forEach((child) => child.classList.remove('menu__list-item--hidden'));\n});\n\nconst getCurrentItems = () => {\n  currentItems = data.filter((item) => item.category === currentCategory);\n};\n\nmenuBtns.forEach((btn) => {\n  btn.addEventListener('click', () => {\n    menuBtns.forEach((currentBtn) => currentBtn.classList.remove('menu__tabs-btn--active'));\n    btn.classList.add('menu__tabs-btn--active');\n    currentCategory = btn.innerText.replace(/\\p{Emoji}/gu, '').trim().toLowerCase();\n    getCurrentItems();\n    render(currentItems);\n  });\n});\n\ngetCurrentItems();\nrender(currentItems);\n"],"names":["burger","menu","nav","menuLinks","changeBurger","el","e","modal","modalOverlay","modalContent","isModalOpen","toggleModal","menuBtns","menuList","menuBtnAdd","currentItems","currentCategory","lastWindowWidth","createMenuListItem","item","index","listItem","createMenuItemModal","initialPriceElement","sizeButtons","additiveButtons","basePrice","selectedSize","selectedSizePrice","updateTotalPrice","formattedPrice","button","newSize","btn","selected","additiveIndex","additiveIndexValue","additiveAddPrice","render","items","child","getCurrentItems","data","currentBtn"],"mappings":"6CACA,MAAMA,EAAS,SAAS,cAAc,SAAS,EAE/C,GAAIA,EAAQ,CACV,MAAMC,EAAO,SAAS,cAAc,eAAe,EAC7CC,EAAM,SAAS,cAAc,MAAM,EACnCC,EAAYF,EAAK,iBAAiB,iBAAiB,EAEnDG,EAAe,IAAM,CACzBJ,EAAO,UAAU,OAAO,gBAAgB,EACxCC,EAAK,UAAU,OAAO,sBAAsB,EAC5CC,EAAI,UAAU,OAAO,aAAa,EAClC,SAAS,KAAK,UAAU,OAAO,aAAa,CAChD,EAEEF,EAAO,iBAAiB,QAAS,IAAM,CACrCI,GACJ,CAAG,EAEDD,EAAU,QAASE,GAAO,CACxBA,EAAG,iBAAiB,QAAS,IAAM,CAC7BL,EAAO,UAAU,SAAS,gBAAgB,IAC5CI,IACA,SAAS,KAAK,UAAU,OAAO,aAAa,EAEpD,CAAK,CACL,CAAG,EAED,SAAS,iBAAiB,QAAUE,GAAM,CACpC,CAACA,EAAE,OAAO,UAAU,SAAS,QAAQ,GAAK,CAACA,EAAE,OAAO,QAAQ,eAAe,GAAKN,EAAO,UAAU,SAAS,gBAAgB,GAAGI,GACrI,CAAG,EAED,SAAS,iBAAiB,UAAYE,GAAM,CACtCA,EAAE,UAAY,IAAIF,EAAY,CACtC,CAAG,CACH,wgOClCMG,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAe,SAAS,cAAc,sBAAsB,EAC5DC,EAAe,SAAS,cAAc,sBAAsB,EAElE,IAAIC,EAAc,GAEX,MAAMC,EAAc,IAAM,CAC3BD,GACFH,EAAM,UAAU,OAAO,gBAAgB,EACvCC,EAAa,UAAU,OAAO,yBAAyB,EACvDC,EAAa,UAAU,OAAO,yBAAyB,EACvD,SAAS,KAAK,UAAU,OAAO,aAAa,EAC5CC,EAAc,KAEdH,EAAM,UAAU,IAAI,gBAAgB,EACpCC,EAAa,UAAU,IAAI,yBAAyB,EACpDC,EAAa,UAAU,IAAI,yBAAyB,EACpD,SAAS,KAAK,UAAU,IAAI,aAAa,EACzCC,EAAc,GAElB,EAEA,SAAS,iBAAiB,QAAU,GAAM,CACpC,CAAC,EAAE,OAAO,QAAQ,sBAAsB,GAAK,CAAC,EAAE,OAAO,QAAQ,kBAAkB,GAAKD,EAAa,UAAU,SAAS,yBAAyB,GAAGE,GACxJ,CAAC,ECpBD,MAAMC,EAAW,SAAS,iBAAiB,iBAAiB,EACtDC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAa,SAAS,cAAc,gBAAgB,EACpDL,EAAe,SAAS,cAAc,sBAAsB,EAElE,IAAIM,EAAe,CAAA,EACfC,EAAkB,SAClBC,EAEA,OAAO,WAAa,MACtBH,EAAW,UAAU,OAAO,wBAAwB,EAGtD,MAAMI,EAAqB,CAACC,EAAMC,IAAU,CAC1C,MAAMC,EAAW,SAAS,cAAc,IAAI,EAC5CA,EAAS,UAAU,IAAI,iBAAiB,EACxCA,EAAS,UAAY;AAAA;AAAA;AAAA;AAAA,6BAIML,CAAe,IAAII,EAAQ,CAAC,cAAcD,EAAK,IAAI;AAAA;AAAA;AAAA,yCAGvCA,EAAK,IAAI;AAAA,oCACdA,EAAK,WAAW;AAAA,wCACZA,EAAK,KAAK;AAAA;AAAA;AAAA,IAIhDN,EAAS,OAAOQ,CAAQ,EACxBA,EAAS,iBAAiB,QAAS,IAAM,CACvCV,IAEAW,EAAoBD,EAAUF,CAAI,CACtC,CAAG,CACH,EAEMG,EAAsB,CAACD,EAAUF,IAAS,CAC9CV,EAAa,UAAY;AAAA;AAAA;AAAA,kBAGTY,EAAS,cAAc,KAAK,EAAE,aAAa,KAAK,CAAC,UAAUA,EAAS,cAAc,KAAK,EAAE,aAAa,KAAK,CAAC;AAAA;AAAA;AAAA;AAAA,oCAI1FA,EAAS,cAAc,QAAQ,EAAE,WAAW;AAAA,mCAC7CA,EAAS,cAAc,GAAG,EAAE,WAAW;AAAA;AAAA;AAAA;AAAA,wJAI8E,OAAO,KAAKF,EAAK,KAAK,EAAE,CAAC,EAAE,YAAW,CAAE,UAAU,OAAO,OAAOA,EAAK,KAAK,EAAE,CAAC,EAAE,IAAI;AAAA,6FAC9I,OAAO,KAAKA,EAAK,KAAK,EAAE,CAAC,EAAE,YAAW,CAAE,UAAU,OAAO,OAAOA,EAAK,KAAK,EAAE,CAAC,EAAE,IAAI;AAAA,6FACnF,OAAO,KAAKA,EAAK,KAAK,EAAE,CAAC,EAAE,YAAW,CAAE,UAAU,OAAO,OAAOA,EAAK,KAAK,EAAE,CAAC,EAAE,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gHAMhEA,EAAK,UAAU,CAAC,EAAE,IAAI;AAAA,gHACtBA,EAAK,UAAU,CAAC,EAAE,IAAI;AAAA,gHACtBA,EAAK,UAAU,CAAC,EAAE,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,+CAKvFA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAqBvDV,EAAa,cAAc,wBAAwB,EAAE,iBAAiB,QAASE,CAAW,EAE1F,MAAMY,EAAsB,SAAS,cAAc,wBAAwB,EACrEC,EAAc,SAAS,iBAAiB,uBAAuB,EAC/DC,EAAkB,SAAS,iBAAiB,4BAA4B,EAE9E,IAAIC,EAAY,WAAWP,EAAK,KAAK,EACjCQ,EAAe,OAAO,KAAKR,EAAK,KAAK,EAAE,CAAC,EAAE,cAC1CS,EAAoB,WAAW,OAAO,OAAOT,EAAK,KAAK,EAAE,CAAC,EAAE,WAAW,CAAC,EAE5E,MAAMU,EAAmB,IAAM,CAE7B,MAAMC,GADaJ,EAAYE,GACG,QAAQ,CAAC,EAC3CL,EAAoB,YAAc,IAAIO,CAAc,EACxD,EAEEN,EAAY,QAASO,GAAW,CAC9BA,EAAO,iBAAiB,QAAS,IAAM,CACrC,MAAMC,EAAUD,EAAO,cAAc,wBAAwB,EAE7DP,EAAY,QAASS,GAAQ,CAC3BA,EAAI,UAAU,OAAO,8BAA8B,EACnDA,EAAI,cAAc,wBAAwB,EAAE,UAAU,OAAO,+BAA+B,CACpG,CAAO,EACDF,EAAO,UAAU,IAAI,8BAA8B,EACnDC,EAAQ,UAAU,IAAI,+BAA+B,EAEjDL,IAAiBK,EAAQ,cAC3BL,EAAeK,EAAQ,YACvBJ,EAAoB,WAAWT,EAAK,MAAMa,EAAQ,YAAY,YAAa,CAAA,EAAE,WAAW,CAAC,EACzFH,IAER,CAAK,CACL,CAAG,EAEDJ,EAAgB,QAASM,GAAW,CAClCA,EAAO,iBAAiB,QAAS,IAAM,CACrC,MAAMG,EAAWH,EAAO,UAAU,SAAS,mCAAmC,EACxEI,EAAgBJ,EAAO,cAAc,8BAA8B,EACnEK,EAAqB,OAAOD,EAAc,WAAW,EAAI,EACzDE,EAAmB,WAAWlB,EAAK,UAAUiB,CAAkB,EAAE,WAAW,CAAC,EAEnFL,EAAO,UAAU,OAAO,mCAAmC,EAC3DI,EAAc,UAAU,OAAO,qCAAqC,EAEpED,EAAWR,GAAaW,EAAmBX,GAAaW,EACxDR,GACN,CAAK,CACL,CAAG,EACDA,GACF,EAEMS,EAAUC,GAAU,CACxB1B,EAAS,UAAY,GACrB0B,EAAM,QAAQ,CAACpB,EAAMC,IAAU,CAC7BF,EAAmBC,EAAMC,CAAK,EAC1B,OAAO,WAAa,OACtBP,EAAS,SAAS,OAAS,EAAIC,EAAW,UAAU,IAAI,wBAAwB,EAAIA,EAAW,UAAU,OAAO,wBAAwB,EACxI,MAAM,KAAKD,EAAS,QAAQ,EAAE,MAAM,CAAC,EAAE,QAAS2B,GAAUA,EAAM,UAAU,IAAI,yBAAyB,CAAC,EAE9G,CAAG,CACH,EAEA,OAAO,iBAAiB,SAAU,IAAM,CAClC,OAAO,aAAevB,IACpB,OAAO,WAAa,MACtBJ,EAAS,SAAS,OAAS,EAAIC,EAAW,UAAU,IAAI,wBAAwB,EAAIA,EAAW,UAAU,OAAO,wBAAwB,EACxI,MAAM,KAAKD,EAAS,QAAQ,EAAE,MAAM,CAAC,EAAE,QAAS2B,GAAUA,EAAM,UAAU,IAAI,yBAAyB,CAAC,IAExG1B,EAAW,UAAU,OAAO,wBAAwB,EACpD,MAAM,KAAKD,EAAS,QAAQ,EAAE,QAAS2B,GAAUA,EAAM,UAAU,OAAO,yBAAyB,CAAC,IAGtGvB,EAAkB,OAAO,UAC3B,CAAC,EAEDH,EAAW,iBAAiB,QAAS,IAAM,CACzCA,EAAW,UAAU,OAAO,wBAAwB,EACpD,MAAM,KAAKD,EAAS,QAAQ,EAAE,QAAS2B,GAAUA,EAAM,UAAU,OAAO,yBAAyB,CAAC,CACpG,CAAC,EAED,MAAMC,EAAkB,IAAM,CAC5B1B,EAAe2B,EAAK,OAAQvB,GAASA,EAAK,WAAaH,CAAe,CACxE,EAEAJ,EAAS,QAASqB,GAAQ,CACxBA,EAAI,iBAAiB,QAAS,IAAM,CAClCrB,EAAS,QAAS+B,GAAeA,EAAW,UAAU,OAAO,wBAAwB,CAAC,EACtFV,EAAI,UAAU,IAAI,wBAAwB,EAC1CjB,EAAkBiB,EAAI,UAAU,QAAQ,cAAe,EAAE,EAAE,OAAO,cAClEQ,IACAH,EAAOvB,CAAY,CACvB,CAAG,CACH,CAAC,EAED0B,IACAH,EAAOvB,CAAY"}