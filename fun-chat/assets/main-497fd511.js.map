{"version":3,"file":"main-497fd511.js","sources":["../../src/shared/Mediator/types/enums.ts","../../src/shared/Mediator/model/MediatorModel.ts","../../src/shared/types/enums.ts","../../src/utils/createBaseElement.ts","../../src/pages/MainPage/view/MainPageView.ts","../../src/pages/types/enums.ts","../../src/shared/Store/initialData.ts","../../src/shared/Store/reducer/rootReducer.ts","../../src/shared/Store/model/StoreModel.ts","../../src/pages/MainPage/model/MainPageModel.ts","../../src/pages/AboutPage/view/AboutPageView.ts","../../src/pages/AboutPage/model/AboutPageModel.ts","../../src/pages/LoginPage/view/LoginPageView.ts","../../src/shared/Button/types/enums.ts","../../src/shared/Button/view/ButtonView.ts","../../src/shared/Button/model/ButtonModel.ts","../../src/features/InputFieldValidator/model/InputFieldValidatorModel.ts","../../src/shared/Input/view/InputView.ts","../../src/shared/Input/model/InputModel.ts","../../src/entities/InputField/view/InputFieldView.ts","../../src/entities/InputField/model/InputFieldModel.ts","../../src/widgets/LoginForm/types/enums.ts","../../src/widgets/LoginForm/view/LoginFormView.ts","../../src/shared/Server/ServerApi/types/enums.ts","../../src/utils/isKeyOfUser.ts","../../src/widgets/LoginForm/model/LoginFormModel.ts","../../src/utils/isFromServerMessage.ts","../../src/shared/Store/actions/types/enums.ts","../../src/shared/SessionStorage/types/enums.ts","../../src/utils/isUser.ts","../../src/pages/LoginPage/model/LoginPageModel.ts","../../src/app/Router/types/enums.ts","../../src/app/Router/model/RouterModel.ts","../../src/app/App/view/AppView.ts","../../src/widgets/Header/types/enums.ts","../../src/widgets/Header/view/HeaderView.ts","../../src/widgets/Header/model/HeaderModel.ts","../../src/shared/Server/ClientApi/model/ClientApiModel.ts","../../src/shared/Server/ServerApi/model/ServerApiModel.ts","../../src/shared/Server/Socket/model/SocketModel.ts","../../src/shared/SessionStorage/model/SessionStorage.ts","../../src/app/App/model/AppModel.ts","../../src/index.ts"],"sourcesContent":["const MEDIATOR_EVENTS = {\n  CHANGE_PAGE: 'changePage',\n  CREATE_NEW_USER: 'createNewUser',\n  SET_NEW_USER: 'setNewUser',\n  NEW_MESSAGE: 'newMessage',\n  LOG_IN: 'logIn',\n  LOG_OUT: 'logOut',\n} as const;\n\nexport default MEDIATOR_EVENTS;\n","import type ListenerCallback from '../types/types.ts';\n\nclass MediatorModel<T> {\n  private static mediator = new MediatorModel();\n\n  private listeners: Map<string, Array<ListenerCallback<T>>> = new Map();\n\n  public static getInstance(): MediatorModel<unknown> {\n    return MediatorModel.mediator;\n  }\n\n  public subscribe(eventName: string, listener: ListenerCallback<T>): void {\n    if (this.listeners.has(eventName)) {\n      const listeners = this.listeners.get(eventName);\n      listeners?.push(listener);\n    } else {\n      const newListeners = [];\n      newListeners.push(listener);\n      this.listeners.set(eventName, newListeners);\n    }\n  }\n\n  public notify(eventName: string, params: T): void {\n    const eventListeners = this.listeners.get(eventName);\n    if (eventListeners) {\n      eventListeners.forEach((listener) => listener(params));\n    }\n  }\n\n  public unsubscribe(eventName: string, listener: ListenerCallback<T>): void {\n    if (this.listeners.has(eventName)) {\n      const listeners = this.listeners.get(eventName);\n      const index = listeners?.indexOf(listener);\n\n      if (index && index !== -1) {\n        listeners?.splice(index, 1);\n      }\n    }\n  }\n}\n\nexport default MediatorModel;\n","export const TAG_NAMES = {\n  MAIN: 'main',\n  HEADER: 'header',\n  FOOTER: 'footer',\n  NAV: 'nav',\n  SECTION: 'section',\n  ARTICLE: 'article',\n  ASIDE: 'aside',\n  BUTTON: 'button',\n  FORM: 'form',\n  INPUT: 'input',\n  LABEL: 'label',\n  SELECT: 'select',\n  TEXTAREA: 'textarea',\n  SPAN: 'span',\n  DIV: 'div',\n  SVG: 'svg',\n  I: 'i',\n  P: 'p',\n  UL: 'ul',\n  OL: 'ol',\n  LI: 'li',\n  H1: 'h1',\n  H2: 'h2',\n  H3: 'h3',\n  H4: 'h4',\n  H5: 'h5',\n  H6: 'h6',\n  IMG: 'img',\n  VIDEO: 'video',\n  AUDIO: 'audio',\n  SOURCE: 'source',\n  TRACK: 'track',\n  CANVAS: 'canvas',\n  MAP: 'map',\n  MARK: 'mark',\n  DETAILS: 'details',\n  SUMMARY: 'summary',\n  PRE: 'pre',\n  BLOCKQUOTE: 'blockquote',\n  ADDRESS: 'address',\n  DIVIDER: 'hr',\n  TABLE: 'table',\n  THEAD: 'thead',\n  TBODY: 'tbody',\n  TFOOT: 'tfoot',\n  TR: 'tr',\n  TD: 'td',\n  TH: 'th',\n} as const;\n\nexport const EVENT_NAMES = {\n  CLICK: 'click',\n  CHANGE: 'change',\n  INPUT: 'input',\n  SUBMIT: 'submit',\n  KEYUP: 'keyup',\n  KEYDOWN: 'keydown',\n  SCROLL: 'scroll',\n  RESIZE: 'resize',\n  FOCUS: 'focus',\n  BLUR: 'blur',\n  CONTEXTMENU: 'contextmenu',\n  DOM_CONTENT_LOADED: 'DOMContentLoaded',\n  LOAD: 'load',\n  ERROR: 'error',\n  ANIMATIONSTART: 'animationstart',\n  ANIMATIONEND: 'animationend',\n  ANIMATIONITERATION: 'animationiteration',\n  TRANSITIONEND: 'transitionend',\n  POPSTATE: 'popstate',\n  HASHCHANGE: 'hashchange',\n  BEFOREUNLOAD: 'beforeunload',\n  OPEN: 'open',\n  CLOSE: 'close',\n  MESSAGE: 'message',\n} as const;\n\nexport const IS_DISABLED = {\n  DISABLED: true,\n  ENABLED: false,\n} as const;\n","interface CreateBaseElement<T> {\n  tag: T;\n  cssClasses?: string[];\n  attributes?: Record<string, string>;\n  innerContent?: string;\n}\n\nconst createBaseElement = <T extends keyof HTMLElementTagNameMap>({\n  tag,\n  cssClasses = [],\n  attributes = {},\n  innerContent = '',\n}: CreateBaseElement<T>): HTMLElementTagNameMap[T] => {\n  const elem = document.createElement(tag);\n\n  elem.classList.add(...cssClasses);\n\n  Object.entries(attributes).forEach(([attrName, attrValue]) => {\n    elem.setAttribute(attrName, attrValue);\n  });\n\n  elem.innerHTML = innerContent;\n\n  return elem;\n};\n\nexport default createBaseElement;\n","import { TAG_NAMES } from '../../../shared/types/enums.ts';\nimport createBaseElement from '../../../utils/createBaseElement.ts';\nimport MAIN_PAGE_STYLES from './mainPage.module.scss';\n\nclass MainPageView {\n  private parent: HTMLDivElement;\n\n  private page: HTMLDivElement;\n\n  constructor(parent: HTMLDivElement) {\n    this.parent = parent;\n    this.page = this.createHTML();\n  }\n\n  public getHTML(): HTMLDivElement {\n    return this.page;\n  }\n\n  private createHTML(): HTMLDivElement {\n    this.page = createBaseElement({\n      tag: TAG_NAMES.DIV,\n      cssClasses: [MAIN_PAGE_STYLES.mainPage],\n    });\n\n    this.parent.append(this.page);\n\n    return this.page;\n  }\n}\nexport default MainPageView;\n","const PAGES_IDS = {\n  FOR_DEPLOY: 'kleostro-JSFE2023Q4/fun-chat/',\n  DEFAULT_PAGE: '',\n  LOGIN_PAGE: 'login',\n  MAIN_PAGE: 'main',\n  ABOUT_PAGE: 'about',\n} as const;\n\nexport default PAGES_IDS;\n","interface Status {\n  isDelivered: boolean;\n  isEdited: boolean;\n  isReaded: boolean;\n}\n\nexport interface User {\n  login: string;\n  password: string;\n}\n\ninterface Message {\n  id: string;\n  from: string;\n  to: string;\n  text: string;\n  datetime: number;\n  status: Status;\n}\n\ninterface FetchHistoryWithUser {\n  id: string;\n  payload: Message[];\n  type: 'MSG_FROM_USER';\n}\n\nexport interface Dialog {\n  history: FetchHistoryWithUser[];\n  login: string;\n}\n\n// state field typing\nexport interface State {\n  currentUser: User | null;\n  currentAuthorizedUsers: User[];\n  currentUnauthorizedUsers: User[];\n  currentUserDialogs: Dialog[];\n}\n\n// enumeration of state fields\nexport const STATE_FIELDS = {\n  CURRENT_USER: 'currentUser',\n  CURRENT_AUTHORIZED_USERS: 'currentAuthorizedUsers',\n  CURRENT_UNAUTHORIZED_USERS: 'currentUnauthorizedUsers',\n  CURRENT_USER_DIALOGS: 'currentUserDialogs',\n} as const;\n\n// initial state values\nexport const INITIAL_STATE: State = {\n  currentUser: null,\n  currentAuthorizedUsers: [],\n  currentUnauthorizedUsers: [],\n  currentUserDialogs: [],\n} as const;\n\nexport default INITIAL_STATE;\n","import type { State } from '../initialData.ts';\nimport type { Action, Reducer } from './types/types.ts';\n\nexport const rootReducer: Reducer<State, Action> = (\n  state: State,\n  action: Action,\n): State => {\n  switch (action.type) {\n    case 'setCurrentUser':\n      return {\n        ...state,\n        currentUser: action.payload,\n      };\n    case 'setCurrentAuthorizedUsers':\n      return {\n        ...state,\n        currentAuthorizedUsers: action.payload,\n      };\n    case 'setCurrentUnauthorizedUsers':\n      return {\n        ...state,\n        currentUnauthorizedUsers: action.payload,\n      };\n    case 'setCurrentUserDialogs':\n      return {\n        ...state,\n        currentUserDialogs: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default rootReducer;\n","import { INITIAL_STATE } from '../initialData.ts';\nimport type { State } from '../initialData.ts';\nimport type { Action, Reducer } from '../reducer/types/types.ts';\nimport { rootReducer } from '../reducer/rootReducer.ts';\n\nclass StoreModel {\n  private static listeners: Map<string, VoidFunction> = new Map();\n\n  private static rootReducer: Reducer<State, Action> = rootReducer;\n\n  private static state: State = INITIAL_STATE;\n\n  public static dispatch(action: Action): Action {\n    StoreModel.state = StoreModel.rootReducer(StoreModel.state, action);\n\n    StoreModel.listeners.forEach((_, key) => {\n      if (key in StoreModel.state) {\n        const currentListener = StoreModel.listeners.get(key);\n        if (currentListener) {\n          currentListener();\n        }\n      }\n    });\n\n    return action;\n  }\n\n  public static getState(): State {\n    return structuredClone(StoreModel.state);\n  }\n\n  public static subscribe(\n    key: keyof State,\n    listener: VoidFunction,\n  ): VoidFunction {\n    StoreModel.listeners.set(key, listener);\n\n    return () => {\n      StoreModel.listeners.delete(key);\n    };\n  }\n}\n\nexport default StoreModel;\n","import MEDIATOR_EVENTS from '../../../shared/Mediator/types/enums.ts';\nimport MediatorModel from '../../../shared/Mediator/model/MediatorModel.ts';\nimport type PageInterface from '../../types/interfaces.ts';\nimport MainPageView from '../view/MainPageView.ts';\nimport MAIN_PAGE_STYLES from '../view/mainPage.module.scss';\nimport PAGES_IDS from '../../types/enums.ts';\nimport StoreModel from '../../../shared/Store/model/StoreModel.ts';\nimport type RouterModel from '../../../app/Router/model/RouterModel.ts';\n\nclass MainPageModel implements PageInterface {\n  private router: RouterModel;\n\n  private eventMediator = MediatorModel.getInstance();\n\n  private mainPageView: MainPageView;\n\n  constructor(parent: HTMLDivElement, router: RouterModel) {\n    this.router = router;\n    this.mainPageView = new MainPageView(parent);\n    this.init();\n  }\n\n  public getHTML(): HTMLDivElement {\n    return this.mainPageView.getHTML();\n  }\n\n  private show(): void {\n    this.mainPageView\n      .getHTML()\n      .classList.remove(MAIN_PAGE_STYLES.mainPage_hidden);\n  }\n\n  private hide(): void {\n    this.mainPageView.getHTML().classList.add(MAIN_PAGE_STYLES.mainPage_hidden);\n  }\n\n  private switchPage(params: string): boolean {\n    if (params === PAGES_IDS.MAIN_PAGE) {\n      if (StoreModel.getState().currentUser) {\n        this.show();\n      } else {\n        this.router.navigateTo(PAGES_IDS.LOGIN_PAGE);\n        this.hide();\n      }\n    }\n\n    return true;\n  }\n\n  private subscribeToMediator(): void {\n    this.eventMediator.subscribe(MEDIATOR_EVENTS.CHANGE_PAGE, (params) => {\n      this.hide();\n      this.switchPage(String(params));\n    });\n  }\n\n  private init(): void {\n    this.hide();\n    this.subscribeToMediator();\n  }\n}\n\nexport default MainPageModel;\n","import { TAG_NAMES } from '../../../shared/types/enums.ts';\nimport createBaseElement from '../../../utils/createBaseElement.ts';\nimport ABOUT_PAGE_STYLES from './aboutPage.module.scss';\n\nclass LoginPageView {\n  private parent: HTMLDivElement;\n\n  private page: HTMLDivElement;\n\n  constructor(parent: HTMLDivElement) {\n    this.parent = parent;\n    this.page = this.createHTML();\n  }\n\n  public getHTML(): HTMLDivElement {\n    return this.page;\n  }\n\n  private createHTML(): HTMLDivElement {\n    this.page = createBaseElement({\n      tag: TAG_NAMES.DIV,\n      cssClasses: [ABOUT_PAGE_STYLES.aboutPage],\n    });\n\n    this.parent.append(this.page);\n\n    return this.page;\n  }\n}\nexport default LoginPageView;\n","import MediatorModel from '../../../shared/Mediator/model/MediatorModel.ts';\nimport type PageInterface from '../../types/interfaces.ts';\nimport AboutPageView from '../view/AboutPageView.ts';\nimport ABOUT_PAGE_STYLES from '../view/aboutPage.module.scss';\nimport MEDIATOR_EVENTS from '../../../shared/Mediator/types/enums.ts';\nimport PAGES_IDS from '../../types/enums.ts';\n\nclass AboutPageModel implements PageInterface {\n  private eventMediator = MediatorModel.getInstance();\n\n  private aboutPageView: AboutPageView;\n\n  constructor(parent: HTMLDivElement) {\n    this.aboutPageView = new AboutPageView(parent);\n    this.init();\n  }\n\n  public getHTML(): HTMLDivElement {\n    return this.aboutPageView.getHTML();\n  }\n\n  private visible(): void {\n    this.aboutPageView\n      .getHTML()\n      .classList.remove(ABOUT_PAGE_STYLES.aboutPage_hidden);\n  }\n\n  private hidden(): void {\n    this.aboutPageView\n      .getHTML()\n      .classList.add(ABOUT_PAGE_STYLES.aboutPage_hidden);\n  }\n\n  private subscribeToMediator(): void {\n    this.eventMediator.subscribe(MEDIATOR_EVENTS.CHANGE_PAGE, (params) => {\n      if (params === PAGES_IDS.ABOUT_PAGE) {\n        this.visible();\n      } else {\n        this.hidden();\n      }\n    });\n  }\n\n  private init(): void {\n    this.subscribeToMediator();\n  }\n}\n\nexport default AboutPageModel;\n","import { TAG_NAMES } from '../../../shared/types/enums.ts';\nimport createBaseElement from '../../../utils/createBaseElement.ts';\nimport LOGIN_PAGE_STYLES from './loginPage.module.scss';\n\nclass LoginPageView {\n  private parent: HTMLDivElement;\n\n  private page: HTMLDivElement;\n\n  constructor(parent: HTMLDivElement) {\n    this.parent = parent;\n    this.page = this.createHTML();\n  }\n\n  public getHTML(): HTMLDivElement {\n    return this.page;\n  }\n\n  private createHTML(): HTMLDivElement {\n    this.page = createBaseElement({\n      tag: TAG_NAMES.DIV,\n      cssClasses: [LOGIN_PAGE_STYLES.loginPage],\n    });\n\n    this.parent.append(this.page);\n\n    return this.page;\n  }\n}\nexport default LoginPageView;\n","const BUTTON_TYPES = {\n  SUBMIT: 'submit',\n  RESET: 'reset',\n  BUTTON: 'button',\n} as const;\n\nexport default BUTTON_TYPES;\n","import { TAG_NAMES } from '../../types/enums.ts';\nimport createBaseElement from '../../../utils/createBaseElement.ts';\nimport type ButtonAttributesInterface from '../types/interfaces.ts';\n\nclass ButtonView {\n  private button: HTMLButtonElement;\n\n  constructor(params: ButtonAttributesInterface) {\n    this.button = this.createHTML(params);\n  }\n\n  public getHTML(): HTMLButtonElement {\n    return this.button;\n  }\n\n  private createHTML(params: ButtonAttributesInterface): HTMLButtonElement {\n    this.button = createBaseElement({\n      tag: TAG_NAMES.BUTTON,\n      cssClasses: params.classes,\n      attributes: params.attrs,\n      innerContent: params.text,\n    });\n\n    if (params.action) {\n      this.button.addEventListener(params.action.key, params.action.value);\n    }\n\n    return this.button;\n  }\n}\n\nexport default ButtonView;\n","import { IS_DISABLED } from '../../types/enums.ts';\nimport type ButtonAttributesInterface from '../types/interfaces.ts';\nimport ButtonView from '../view/ButtonView.ts';\n\nclass ButtonModel {\n  private view: ButtonView;\n\n  constructor(params: ButtonAttributesInterface) {\n    this.view = new ButtonView(params);\n  }\n\n  public getHTML(): HTMLButtonElement {\n    return this.view.getHTML();\n  }\n\n  public setDisabled(): void {\n    this.view.getHTML().disabled = IS_DISABLED.DISABLED;\n  }\n\n  public setEnabled(): void {\n    this.view.getHTML().disabled = IS_DISABLED.ENABLED;\n  }\n}\n\nexport default ButtonModel;\n","import type InputFieldValidatorParams from '../types/interfaces.ts';\n\nclass InputFieldValidatorModel {\n  private validParams;\n\n  private isValid: boolean;\n\n  constructor(validParams: InputFieldValidatorParams, isValid: boolean) {\n    this.validParams = validParams;\n    this.isValid = isValid;\n  }\n\n  public validate(value: string): boolean | string[] {\n    const errors = [\n      this.checkRequired(value),\n      this.checkNotSpecialSymbols(value),\n      this.checkMinLength(value),\n      this.checkMaxLength(value),\n      this.checkRequiredSymbols(value),\n    ];\n\n    const errorMessages: string[] = [];\n    errors.forEach((error) => {\n      if (typeof error === 'string') {\n        errorMessages.push(error);\n      }\n    });\n\n    if (errorMessages.length) {\n      return errorMessages;\n    }\n\n    this.isValid = true;\n    return this.isValid;\n  }\n\n  private checkMinLength(value: string): boolean | string {\n    if (\n      this.validParams.minLength &&\n      value.length < this.validParams.minLength\n    ) {\n      const errorMessage = `Min length should be at least ${this.validParams.minLength}`;\n      return errorMessage;\n    }\n\n    return true;\n  }\n\n  private checkMaxLength(value: string): boolean | string {\n    if (\n      this.validParams.maxLength &&\n      value.length > this.validParams.maxLength\n    ) {\n      const errorMessage = `Max length should not exceed ${this.validParams.maxLength}`;\n      return errorMessage;\n    }\n\n    return true;\n  }\n\n  private checkRequired(value: string): boolean | string {\n    if (this.validParams.required && value.trim() === '') {\n      const errorMessage = 'Field is required';\n      return errorMessage;\n    }\n\n    return true;\n  }\n\n  private checkRequiredSymbols(value: string): boolean | string {\n    if (\n      this.validParams.requiredSymbols &&\n      !this.validParams.requiredSymbols.pattern.test(value)\n    ) {\n      const errorMessage = this.validParams.requiredSymbols.message;\n      return errorMessage;\n    }\n\n    return true;\n  }\n\n  private checkNotSpecialSymbols(value: string): boolean | string {\n    if (\n      this.validParams.notSpecialSymbols &&\n      !this.validParams.notSpecialSymbols.pattern.test(value)\n    ) {\n      const errorMessage = this.validParams.notSpecialSymbols.message;\n      return errorMessage;\n    }\n\n    return true;\n  }\n}\n\nexport default InputFieldValidatorModel;\n","import { TAG_NAMES } from '../../types/enums.ts';\nimport createBaseElement from '../../../utils/createBaseElement.ts';\n\nclass InputView {\n  private input: HTMLInputElement;\n\n  constructor(attrs: Record<string, string>) {\n    this.input = this.createHTML(attrs);\n  }\n\n  public getHTML(): HTMLInputElement {\n    return this.input;\n  }\n\n  private createHTML(attrs: Record<string, string>): HTMLInputElement {\n    this.input = createBaseElement({\n      tag: TAG_NAMES.INPUT,\n      attributes: attrs,\n    });\n\n    return this.input;\n  }\n}\n\nexport default InputView;\n","import { IS_DISABLED } from '../../types/enums.ts';\nimport InputView from '../view/InputView.ts';\n\nclass InputModel {\n  private view: InputView;\n\n  constructor(attrs: Record<string, string>) {\n    this.view = new InputView(attrs);\n  }\n\n  public getHTML(): HTMLInputElement {\n    return this.view.getHTML();\n  }\n\n  public getValue(): string {\n    return this.view.getHTML().value;\n  }\n\n  public setDisabled(): void {\n    this.view.getHTML().disabled = IS_DISABLED.DISABLED;\n  }\n\n  public setEnabled(): void {\n    this.view.getHTML().disabled = IS_DISABLED.ENABLED;\n  }\n\n  public clear(): void {\n    this.view.getHTML().value = '';\n  }\n}\n\nexport default InputModel;\n","import createBaseElement from '../../../utils/createBaseElement.ts';\nimport InputModel from '../../../shared/Input/model/InputModel.ts';\nimport type {\n  InputFieldParams,\n  InputParams,\n  LabelParams,\n} from '../types/interfaces';\nimport { TAG_NAMES } from '../../../shared/types/enums.ts';\n\nclass InputFieldView {\n  private inputField: InputModel | HTMLLabelElement;\n\n  private label: HTMLLabelElement | null = null;\n\n  private errorField: HTMLSpanElement | null = null;\n\n  private input: InputModel;\n\n  constructor(params: InputFieldParams) {\n    this.input = this.createInput(params.inputParams);\n    this.inputField = this.createHTML(params);\n  }\n\n  public getHTML(): InputModel | HTMLLabelElement {\n    return this.inputField;\n  }\n\n  public getValue(): string {\n    if (this.inputField instanceof InputModel) {\n      return this.inputField.getValue();\n    }\n    return this.input.getValue();\n  }\n\n  public getInput(): InputModel {\n    return this.input;\n  }\n\n  public getErrorField(): HTMLSpanElement | null {\n    return this.errorField;\n  }\n\n  private createInput(inputParams: InputParams): InputModel {\n    const { id, type, placeholder, autocomplete } = inputParams;\n    this.input = new InputModel({\n      id,\n      type,\n      placeholder: placeholder || '',\n      autocomplete,\n    });\n\n    return this.input;\n  }\n\n  private createLabel(labelParams: LabelParams): HTMLLabelElement {\n    const { for: htmlFor, text } = labelParams;\n    this.label = createBaseElement({\n      tag: TAG_NAMES.LABEL,\n      attributes: {\n        for: htmlFor,\n      },\n      innerContent: text || '',\n    });\n\n    return this.label;\n  }\n\n  private createErrorField(): HTMLSpanElement {\n    this.errorField = createBaseElement({\n      tag: TAG_NAMES.SPAN,\n    });\n\n    return this.errorField;\n  }\n\n  private createHTML(params: InputFieldParams): InputModel | HTMLLabelElement {\n    const { labelParams } = params;\n    if (labelParams) {\n      this.inputField = this.createLabel(labelParams);\n      this.errorField = this.createErrorField();\n      this.label?.append(this.input.getHTML(), this.errorField);\n    } else {\n      this.inputField = this.input;\n    }\n\n    return this.inputField;\n  }\n}\n\nexport default InputFieldView;\n","import type InputFieldValidatorParams from '../../../features/InputFieldValidator/types/interfaces.ts';\nimport InputFieldValidatorModel from '../../../features/InputFieldValidator/model/InputFieldValidatorModel.ts';\nimport type { InputFieldParams } from '../types/interfaces.ts';\nimport InputFieldView from '../view/InputFieldView.ts';\nimport { EVENT_NAMES } from '../../../shared/types/enums.ts';\n\nclass InputFieldModel {\n  private view: InputFieldView;\n\n  private isValid = false;\n\n  private validator: InputFieldValidatorModel | null = null;\n\n  constructor(\n    inputFieldParams: InputFieldParams,\n    validParams: InputFieldValidatorParams | null,\n  ) {\n    this.view = new InputFieldView(inputFieldParams);\n\n    if (validParams) {\n      this.validator = new InputFieldValidatorModel(validParams, this.isValid);\n      this.setInputHandler();\n    }\n  }\n\n  public getView(): InputFieldView {\n    return this.view;\n  }\n\n  public getIsValid(): boolean {\n    return this.isValid;\n  }\n\n  private inputHandler(): void {\n    const errorField = this.view.getErrorField();\n    const errors = this.validator?.validate(this.view.getValue());\n    if (errors === true) {\n      if (errorField) {\n        errorField.textContent = '';\n      }\n      this.isValid = true;\n    } else {\n      if (errorField && errors) {\n        const [firstError] = errors;\n        errorField.textContent = firstError;\n      }\n      this.isValid = false;\n    }\n  }\n\n  private setInputHandler(): void {\n    const input = this.view.getInput().getHTML();\n    input.addEventListener(EVENT_NAMES.INPUT, () => {\n      this.inputHandler();\n    });\n  }\n}\n\nexport default InputFieldModel;\n","export const LOGIN_INPUT_FIELD_PARAMS = {\n  inputParams: {\n    id: 'login',\n    type: 'text',\n    placeholder: 'Login',\n    autocomplete: 'off',\n  },\n  labelParams: {\n    for: 'login',\n    text: 'Enter your login',\n  },\n} as const;\n\nexport const PASSWORD_INPUT_FIELD_PARAMS = {\n  inputParams: {\n    id: 'password',\n    type: 'password',\n    placeholder: 'Password',\n    autocomplete: 'off',\n  },\n  labelParams: {\n    for: 'password',\n    text: 'Enter your password',\n  },\n} as const;\n\nexport const FORM_INPUT_FIELD_PARAMS = [\n  LOGIN_INPUT_FIELD_PARAMS,\n  PASSWORD_INPUT_FIELD_PARAMS,\n];\n\nconst LOGIN_INPUT_FIELD_VALIDATE_PARAMS = {\n  key: 'login',\n  minLength: 4,\n  maxLength: 16,\n  required: true,\n  notSpecialSymbols: {\n    pattern: /^[a-zA-Z0-9]*$/,\n    message: 'Login must contain only letters and numbers',\n  },\n} as const;\n\nconst PASSWORD_INPUT_FIELD_VALIDATE_PARAMS = {\n  key: 'password',\n  minLength: 6,\n  required: true,\n  requiredSymbols: {\n    pattern: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).+/,\n    message:\n      'Password must contain English letters, at least 1 upper case letter and at least 1 number',\n  },\n  notSpecialSymbols: {\n    pattern: /^[a-zA-Z0-9]*$/,\n    message: 'Password must contain only letters and numbers',\n  },\n} as const;\n\nexport const INPUT_FIELD_VALIDATION_PARAMS = [\n  LOGIN_INPUT_FIELD_VALIDATE_PARAMS,\n  PASSWORD_INPUT_FIELD_VALIDATE_PARAMS,\n];\n","import BUTTON_TYPES from '../../../shared/Button/types/enums.ts';\nimport ButtonModel from '../../../shared/Button/model/ButtonModel.ts';\nimport { TAG_NAMES } from '../../../shared/types/enums.ts';\nimport createBaseElement from '../../../utils/createBaseElement.ts';\nimport InputFieldModel from '../../../entities/InputField/model/InputFieldModel.ts';\nimport {\n  FORM_INPUT_FIELD_PARAMS,\n  INPUT_FIELD_VALIDATION_PARAMS,\n} from '../types/enums.ts';\nimport LOGIN_FORM_STYLES from './loginForm.module.scss';\n\nclass LoginFormView {\n  private submitFormButton: ButtonModel;\n\n  private inputFields: InputFieldModel[] = [];\n\n  private form: HTMLFormElement;\n\n  constructor() {\n    this.inputFields = this.createInputFields();\n    this.submitFormButton = this.createSubmitFormButton();\n    this.form = this.createHTML();\n  }\n\n  public getHTML(): HTMLFormElement {\n    return this.form;\n  }\n\n  public getInputFields(): InputFieldModel[] {\n    return this.inputFields;\n  }\n\n  public getSubmitFormButton(): ButtonModel {\n    return this.submitFormButton;\n  }\n\n  private createSubmitFormButton(): ButtonModel {\n    const text = 'Login';\n    this.submitFormButton = new ButtonModel({\n      text,\n      attrs: {\n        type: BUTTON_TYPES.SUBMIT,\n      },\n    });\n\n    this.submitFormButton.setDisabled();\n\n    return this.submitFormButton;\n  }\n\n  private createInputFields(): InputFieldModel[] {\n    FORM_INPUT_FIELD_PARAMS.forEach((inputFieldParams) => {\n      const currentValidateParams = INPUT_FIELD_VALIDATION_PARAMS.find(\n        (validParams) => validParams.key === inputFieldParams.inputParams.id,\n      );\n\n      if (currentValidateParams) {\n        const inputField = new InputFieldModel(\n          inputFieldParams,\n          currentValidateParams,\n        );\n        this.inputFields.push(inputField);\n      } else {\n        this.inputFields.push(new InputFieldModel(inputFieldParams, null));\n      }\n    });\n\n    return this.inputFields;\n  }\n\n  private createHTML(): HTMLFormElement {\n    this.form = createBaseElement({\n      tag: TAG_NAMES.FORM,\n      cssClasses: [LOGIN_FORM_STYLES.loginForm],\n    });\n\n    this.inputFields.forEach((inputField) => {\n      const inputFieldElement = inputField.getView().getHTML();\n\n      if (inputFieldElement instanceof HTMLLabelElement) {\n        this.form.append(inputFieldElement);\n      } else {\n        this.form.append(inputFieldElement.getHTML());\n      }\n    });\n\n    this.form.append(this.submitFormButton.getHTML());\n    return this.form;\n  }\n}\n\nexport default LoginFormView;\n","const API_URL = 'ws://127.0.0.1:4000';\n\nexport const API_TYPES = {\n  USER_LOGIN: 'USER_LOGIN',\n  USER_LOGOUT: 'USER_LOGOUT',\n  ERROR: 'ERROR',\n} as const;\n\nexport default API_URL;\n","import type { User } from '../shared/Store/initialData.ts';\n\nconst isKeyOfUser = (context: User, key: string): key is keyof User =>\n  Object.hasOwnProperty.call(context, key);\n\nexport default isKeyOfUser;\n","import LoginFormView from '../view/LoginFormView.ts';\nimport { EVENT_NAMES } from '../../../shared/types/enums.ts';\nimport type InputFieldModel from '../../../entities/InputField/model/InputFieldModel.ts';\nimport type { User } from '../../../shared/Store/initialData.ts';\nimport MediatorModel from '../../../shared/Mediator/model/MediatorModel.ts';\nimport MEDIATOR_EVENTS from '../../../shared/Mediator/types/enums.ts';\nimport type LoginUser from '../../../shared/Server/ServerApi/types/interfaces.ts';\nimport { API_TYPES } from '../../../shared/Server/ServerApi/types/enums.ts';\nimport isKeyOfUser from '../../../utils/isKeyOfUser.ts';\n\nclass LoginFormModel {\n  private view: LoginFormView = new LoginFormView();\n\n  private messageID = '';\n\n  private userData: User = {\n    login: '',\n    password: '',\n  };\n\n  private inputFields: InputFieldModel[] = [];\n\n  private isValidInputFields: Record<string, boolean> = {};\n\n  private eventMediator = MediatorModel.getInstance();\n\n  constructor() {\n    this.init();\n  }\n\n  public getHTML(): HTMLFormElement {\n    return this.view.getHTML();\n  }\n\n  public getMessageID(): string {\n    return this.messageID;\n  }\n\n  public getUserData(): User {\n    return this.userData;\n  }\n\n  private setInputFieldHandlers(inputField: InputFieldModel): void {\n    const inputHTML = inputField.getView().getInput().getHTML();\n    this.isValidInputFields[inputHTML.id] = false;\n    inputHTML.addEventListener(EVENT_NAMES.INPUT, () => {\n      this.isValidInputFields[inputHTML.id] = inputField.getIsValid();\n      this.switchSubmitFormButtonAccess();\n    });\n  }\n\n  private switchSubmitFormButtonAccess(): void {\n    if (Object.values(this.isValidInputFields).every((value) => value)) {\n      this.view.getSubmitFormButton().setEnabled();\n    } else {\n      this.view.getSubmitFormButton().setDisabled();\n    }\n  }\n\n  private getFormData(): User {\n    this.inputFields.forEach((inputField) => {\n      const input = inputField.getView().getInput();\n      const inputHTML = input.getHTML();\n      const inputValue = input.getValue();\n\n      if (isKeyOfUser(this.userData, inputHTML.id)) {\n        this.userData[inputHTML.id] = inputValue;\n        this.isValidInputFields[inputHTML.id] = false;\n      }\n\n      input.clear();\n    });\n\n    this.view.getSubmitFormButton().setDisabled();\n    return this.userData;\n  }\n\n  private submitFormButtonHandler(): void {\n    this.messageID = crypto.randomUUID();\n    const userData: LoginUser = {\n      id: this.messageID,\n      type: API_TYPES.USER_LOGIN,\n      payload: {\n        user: this.getFormData(),\n      },\n    };\n\n    this.eventMediator.notify(MEDIATOR_EVENTS.CREATE_NEW_USER, userData);\n  }\n\n  private setSubmitFormButtonHandler(): void {\n    const submitFormButton = this.view.getSubmitFormButton().getHTML();\n    submitFormButton.addEventListener(\n      EVENT_NAMES.CLICK,\n      this.submitFormButtonHandler.bind(this),\n    );\n  }\n\n  private setPreventDefaultToForm(): void {\n    this.getHTML().addEventListener(EVENT_NAMES.SUBMIT, (event) => {\n      event.preventDefault();\n    });\n  }\n\n  private init(): void {\n    this.inputFields = this.view.getInputFields();\n    this.inputFields.forEach((inputField) =>\n      this.setInputFieldHandlers(inputField),\n    );\n    this.setSubmitFormButtonHandler();\n    this.setPreventDefaultToForm();\n  }\n}\n\nexport default LoginFormModel;\n","export interface Message {\n  type: string;\n  id: string | null;\n  payload: {\n    error: string | null;\n  };\n}\n\nexport const isFromServerMessage = (message: unknown): null | Message => {\n  const isValidMessage = (msg: unknown): msg is Message =>\n    typeof msg === 'object' &&\n    msg !== null &&\n    'type' in msg &&\n    'id' in msg &&\n    'payload' in msg;\n\n  if (isValidMessage(message)) {\n    return message;\n  }\n  return null;\n};\n","const ACTIONS = {\n  SET_CURRENT_USER: 'setCurrentUser',\n  SET_CURRENT_AUTHORIZED_USERS: 'setCurrentAuthorizedUsers',\n  SET_CURRENT_UNAUTHORIZED_USERS: 'setCurrentUnauthorizedUsers',\n  SET_CURRENT_USER_DIALOGS: 'setCurrentUserDialogs',\n} as const;\n\nexport default ACTIONS;\n","enum STORE_KEYS {\n  SS_NAME = 'kleostro',\n  CURRENT_USER = 'currentUser',\n}\n\nexport default STORE_KEYS;\n","import type { User } from '../shared/Store/initialData.ts';\n\nconst isUser = (data: unknown): data is User =>\n  typeof data === 'object' &&\n  data !== null &&\n  'login' in data &&\n  'password' in data;\n\nexport default isUser;\n","import MEDIATOR_EVENTS from '../../../shared/Mediator/types/enums.ts';\nimport MediatorModel from '../../../shared/Mediator/model/MediatorModel.ts';\n\nimport type PageInterface from '../../types/interfaces.ts';\nimport LoginPageView from '../view/LoginPageView.ts';\nimport LOGIN_PAGE_STYLES from '../view/loginPage.module.scss';\nimport PAGES_IDS from '../../types/enums.ts';\nimport LoginFormModel from '../../../widgets/LoginForm/model/LoginFormModel.ts';\nimport StoreModel from '../../../shared/Store/model/StoreModel.ts';\nimport type RouterModel from '../../../app/Router/model/RouterModel.ts';\nimport type { Message } from '../../../utils/isFromServerMessage.ts';\nimport { isFromServerMessage } from '../../../utils/isFromServerMessage.ts';\nimport { API_TYPES } from '../../../shared/Server/ServerApi/types/enums.ts';\nimport ACTIONS from '../../../shared/Store/actions/types/enums.ts';\nimport type SessionStorageModel from '../../../shared/SessionStorage/model/SessionStorage.ts';\nimport STORE_KEYS from '../../../shared/SessionStorage/types/enums.ts';\nimport isUser from '../../../utils/isUser.ts';\nimport type { User } from '../../../shared/Store/initialData.ts';\nimport type LoginUser from '../../../shared/Server/ServerApi/types/interfaces.ts';\n\nclass LoginPageModel implements PageInterface {\n  private loginPageView: LoginPageView;\n\n  private router: RouterModel;\n\n  private storage: SessionStorageModel;\n\n  private eventMediator = MediatorModel.getInstance();\n\n  private loginFormModel = new LoginFormModel();\n\n  constructor(\n    parent: HTMLDivElement,\n    router: RouterModel,\n    storage: SessionStorageModel,\n  ) {\n    this.loginPageView = new LoginPageView(parent);\n    this.router = router;\n    this.storage = storage;\n    this.initPage();\n  }\n\n  public getHTML(): HTMLDivElement {\n    return this.loginPageView.getHTML();\n  }\n\n  private show(): void {\n    this.loginPageView\n      .getHTML()\n      .classList.remove(LOGIN_PAGE_STYLES.loginPage_hidden);\n  }\n\n  private hide(): void {\n    this.loginPageView\n      .getHTML()\n      .classList.add(LOGIN_PAGE_STYLES.loginPage_hidden);\n  }\n\n  private checkAuthorizedUser(): User | null {\n    const currentUser = this.storage.get(STORE_KEYS.CURRENT_USER);\n\n    if (currentUser && isUser(currentUser)) {\n      const userData: LoginUser = {\n        id: null,\n        type: API_TYPES.USER_LOGIN,\n        payload: {\n          user: currentUser,\n        },\n      };\n\n      StoreModel.dispatch({\n        type: ACTIONS.SET_CURRENT_USER,\n        payload: currentUser,\n      });\n      this.eventMediator.notify(MEDIATOR_EVENTS.CREATE_NEW_USER, userData);\n      return currentUser;\n    }\n\n    return null;\n  }\n\n  private switchPage(params: string): boolean {\n    if (params === PAGES_IDS.LOGIN_PAGE || params === PAGES_IDS.DEFAULT_PAGE) {\n      if (StoreModel.getState().currentUser) {\n        this.router.navigateTo(PAGES_IDS.MAIN_PAGE);\n        this.hide();\n      } else {\n        this.show();\n      }\n    }\n\n    return true;\n  }\n\n  private handleSuccessMessage(): void {\n    const userData = this.loginFormModel.getUserData();\n    StoreModel.dispatch({\n      type: ACTIONS.SET_CURRENT_USER,\n      payload: userData,\n    });\n    this.storage.add(STORE_KEYS.CURRENT_USER, JSON.stringify(userData));\n    this.router.navigateTo(PAGES_IDS.MAIN_PAGE);\n    this.hide();\n  }\n\n  // private handleErrorMessage(checkedMessage: Message): void {\n  //   console.error(checkedMessage?.payload?.error);\n  // }\n\n  private handleMessageFromServer(checkedMessage: Message): void {\n    const savedUser = this.storage.get(STORE_KEYS.CURRENT_USER);\n    if (savedUser && isUser(savedUser)) {\n      StoreModel.dispatch({\n        type: ACTIONS.SET_CURRENT_USER,\n        payload: savedUser,\n      });\n      this.router.navigateTo(PAGES_IDS.MAIN_PAGE);\n      this.hide();\n      return;\n    }\n\n    if (checkedMessage?.type !== API_TYPES.ERROR) {\n      this.handleSuccessMessage();\n    } else if (checkedMessage?.id === this.loginFormModel.getMessageID()) {\n      // this.handleErrorMessage(checkedMessage);\n    }\n  }\n\n  private subscribeToMediator(): void {\n    this.eventMediator.subscribe(MEDIATOR_EVENTS.CHANGE_PAGE, (params) => {\n      this.switchPage(String(params));\n    });\n\n    this.eventMediator.subscribe(MEDIATOR_EVENTS.SET_NEW_USER, (message) => {\n      const checkedMessage = isFromServerMessage(message);\n      if (checkedMessage) {\n        this.handleMessageFromServer(checkedMessage);\n      }\n    });\n  }\n\n  private initPage(): void {\n    this.checkAuthorizedUser();\n    this.subscribeToMediator();\n    this.hide();\n    const loginFormHTML = this.loginFormModel.getHTML();\n    this.getHTML().append(loginFormHTML);\n  }\n}\n\nexport default LoginPageModel;\n","const ROUTER_DETAILS = {\n  DEFAULT_SEGMENT: '/',\n  NEXT_SEGMENT: 1,\n  PATH_SEGMENTS_TO_KEEP: 2,\n  CURRENT_SEGMENT: 0,\n} as const;\n\nexport default ROUTER_DETAILS;\n","import { EVENT_NAMES } from '../../../shared/types/enums.ts';\nimport PAGES_IDS from '../../../pages/types/enums.ts';\nimport type PageInterface from '../../../pages/types/interfaces.ts';\nimport ROUTER_DETAILS from '../types/enums.ts';\nimport MediatorModel from '../../../shared/Mediator/model/MediatorModel.ts';\nimport MEDIATOR_EVENTS from '../../../shared/Mediator/types/enums.ts';\n\nclass RouterModel {\n  private pages: Map<string, PageInterface> = new Map();\n\n  private eventMediator = MediatorModel.getInstance();\n\n  constructor() {\n    document.addEventListener(EVENT_NAMES.DOM_CONTENT_LOADED, () => {\n      const currentPath = window.location.pathname\n        .split(ROUTER_DETAILS.DEFAULT_SEGMENT)\n        .slice(\n          ROUTER_DETAILS.PATH_SEGMENTS_TO_KEEP + ROUTER_DETAILS.NEXT_SEGMENT,\n        )\n        .join(ROUTER_DETAILS.DEFAULT_SEGMENT);\n      this.navigateTo(currentPath);\n      this.eventMediator.notify(\n        MEDIATOR_EVENTS.CHANGE_PAGE,\n        currentPath.split(ROUTER_DETAILS.DEFAULT_SEGMENT).join(),\n      );\n    });\n\n    window.addEventListener(EVENT_NAMES.POPSTATE, () => {\n      const currentPath = window.location.pathname\n        .split(ROUTER_DETAILS.DEFAULT_SEGMENT)\n        .slice(\n          ROUTER_DETAILS.PATH_SEGMENTS_TO_KEEP + ROUTER_DETAILS.NEXT_SEGMENT,\n        )\n        .join(ROUTER_DETAILS.DEFAULT_SEGMENT);\n      this.handleRequest(currentPath);\n    });\n  }\n\n  public setPages(pages: Map<string, PageInterface>): void {\n    this.pages = pages;\n  }\n\n  public navigateTo(route: string): void {\n    this.handleRequest(route);\n\n    const pathnameApp = window.location.pathname\n      .split(ROUTER_DETAILS.DEFAULT_SEGMENT)\n      .slice(\n        ROUTER_DETAILS.NEXT_SEGMENT,\n        ROUTER_DETAILS.PATH_SEGMENTS_TO_KEEP + ROUTER_DETAILS.NEXT_SEGMENT,\n      )\n      .join(ROUTER_DETAILS.DEFAULT_SEGMENT);\n    const url = `/${pathnameApp}/${route}`;\n    window.history.pushState({}, '', url);\n  }\n\n  private handleRequest(path: string): void {\n    const pathParts = path.split(ROUTER_DETAILS.DEFAULT_SEGMENT);\n    const hasRoute = this.pages.has(pathParts.join(''));\n    if (!hasRoute) {\n      window.location.pathname = `${PAGES_IDS.FOR_DEPLOY}`;\n      this.eventMediator.notify(\n        MEDIATOR_EVENTS.CHANGE_PAGE,\n        PAGES_IDS.DEFAULT_PAGE,\n      );\n      return;\n    }\n\n    this.eventMediator.notify(MEDIATOR_EVENTS.CHANGE_PAGE, pathParts.join());\n  }\n}\n\nexport default RouterModel;\n","import { TAG_NAMES } from '../../../shared/types/enums.ts';\nimport createBaseElement from '../../../utils/createBaseElement.ts';\nimport APP_STYLES from './app.module.scss';\n\nclass AppView {\n  private pagesContainer: HTMLDivElement;\n\n  constructor() {\n    this.pagesContainer = this.createHTML();\n  }\n\n  public getHTML(): HTMLDivElement {\n    return this.pagesContainer;\n  }\n\n  private createHTML(): HTMLDivElement {\n    this.pagesContainer = createBaseElement({\n      tag: TAG_NAMES.DIV,\n      cssClasses: [APP_STYLES['site-wrapper']],\n    });\n\n    return this.pagesContainer;\n  }\n}\n\nexport default AppView;\n","export const APP_NAME = 'Fun Chat';\n\nexport const LOGOUT_BUTTON_TEXT = 'Logout';\n","import ButtonModel from '../../../shared/Button/model/ButtonModel.ts';\nimport { TAG_NAMES } from '../../../shared/types/enums.ts';\nimport createBaseElement from '../../../utils/createBaseElement.ts';\nimport { APP_NAME, LOGOUT_BUTTON_TEXT } from '../types/enums.ts';\nimport HEADER_STYLES from './header.module.scss';\n\nclass HeaderView {\n  private nameApp: HTMLHeadingElement;\n\n  private userLogin: HTMLSpanElement;\n\n  private logoutButton: ButtonModel;\n\n  private header: HTMLElement;\n\n  constructor() {\n    this.nameApp = this.createNameApp();\n    this.userLogin = this.createUserLogin();\n    this.logoutButton = this.createLogoutButton();\n    this.header = this.createHTML();\n  }\n\n  public getHTML(): HTMLElement {\n    return this.header;\n  }\n\n  public getUserLogin(): HTMLSpanElement {\n    return this.userLogin;\n  }\n\n  public getLogoutButton(): ButtonModel {\n    return this.logoutButton;\n  }\n\n  private createNameApp(): HTMLHeadingElement {\n    this.nameApp = createBaseElement({\n      tag: TAG_NAMES.H1,\n      cssClasses: [HEADER_STYLES.nameApp],\n      innerContent: APP_NAME,\n    });\n\n    return this.nameApp;\n  }\n\n  private createUserLogin(): HTMLSpanElement {\n    this.userLogin = createBaseElement({\n      tag: TAG_NAMES.SPAN,\n      cssClasses: [HEADER_STYLES.userLogin],\n    });\n\n    return this.userLogin;\n  }\n\n  private createLogoutButton(): ButtonModel {\n    this.logoutButton = new ButtonModel({\n      classes: [HEADER_STYLES.logoutButton],\n      text: LOGOUT_BUTTON_TEXT,\n    });\n\n    this.logoutButton.setDisabled();\n\n    return this.logoutButton;\n  }\n\n  private createHTML(): HTMLElement {\n    this.header = createBaseElement({\n      tag: TAG_NAMES.HEADER,\n      cssClasses: [HEADER_STYLES.header],\n    });\n\n    this.header.append(\n      this.nameApp,\n      this.userLogin,\n      this.logoutButton.getHTML(),\n    );\n\n    return this.header;\n  }\n}\n\nexport default HeaderView;\n","import PAGES_IDS from '../../../pages/types/enums.ts';\nimport type RouterModel from '../../../app/Router/model/RouterModel.ts';\nimport HeaderView from '../view/HeaderView.ts';\nimport { EVENT_NAMES } from '../../../shared/types/enums.ts';\nimport StoreModel from '../../../shared/Store/model/StoreModel.ts';\nimport { STATE_FIELDS } from '../../../shared/Store/initialData.ts';\nimport ACTIONS from '../../../shared/Store/actions/types/enums.ts';\nimport STORE_KEYS from '../../../shared/SessionStorage/types/enums.ts';\nimport type SessionStorageModel from '../../../shared/SessionStorage/model/SessionStorage.ts';\nimport MediatorModel from '../../../shared/Mediator/model/MediatorModel.ts';\nimport MEDIATOR_EVENTS from '../../../shared/Mediator/types/enums.ts';\nimport { API_TYPES } from '../../../shared/Server/ServerApi/types/enums.ts';\n\nclass HeaderModel {\n  private view: HeaderView = new HeaderView();\n\n  private eventMediator = MediatorModel.getInstance();\n\n  private router: RouterModel;\n\n  private storage: SessionStorageModel;\n\n  constructor(router: RouterModel, storage: SessionStorageModel) {\n    this.router = router;\n    this.storage = storage;\n    this.init();\n  }\n\n  public getHTML(): HTMLElement {\n    return this.view.getHTML();\n  }\n\n  private logoutButtonHandler(): void {\n    const logOutData = {\n      id: null,\n      type: API_TYPES.USER_LOGOUT,\n      payload: {\n        user: {\n          login: StoreModel.getState().currentUser?.login,\n          password: StoreModel.getState().currentUser?.password,\n        },\n      },\n    };\n    this.eventMediator.notify(MEDIATOR_EVENTS.LOG_OUT, logOutData);\n    this.storage.remove(STORE_KEYS.CURRENT_USER);\n    StoreModel.dispatch({ type: ACTIONS.SET_CURRENT_USER, payload: null });\n    this.view.getLogoutButton().setDisabled();\n    this.router.navigateTo(PAGES_IDS.LOGIN_PAGE);\n  }\n\n  private setLogoutButtonHandler(): void {\n    const logoutButton = this.view.getLogoutButton().getHTML();\n\n    logoutButton.addEventListener(\n      EVENT_NAMES.CLICK,\n      this.logoutButtonHandler.bind(this),\n    );\n  }\n\n  private changeCurrentUserLogin(): void {\n    const userLogin = this.view.getUserLogin();\n    userLogin.textContent = StoreModel.getState().currentUser?.login || '';\n    this.view.getLogoutButton().setEnabled();\n  }\n\n  private init(): void {\n    this.setLogoutButtonHandler();\n\n    StoreModel.subscribe(\n      STATE_FIELDS.CURRENT_USER,\n      this.changeCurrentUserLogin.bind(this),\n    );\n  }\n}\n\nexport default HeaderModel;\n","import MEDIATOR_EVENTS from '../../../Mediator/types/enums.ts';\nimport MediatorModel from '../../../Mediator/model/MediatorModel.ts';\n\nclass ClientApiModel {\n  private webSocket: WebSocket;\n\n  private isOpen: boolean;\n\n  private eventMediator = MediatorModel.getInstance();\n\n  constructor(webSocket: WebSocket, isOpen: boolean) {\n    this.webSocket = webSocket;\n    this.isOpen = isOpen;\n    this.subscribeToEventMediator();\n  }\n\n  public isWorks(): boolean {\n    return this.isOpen;\n  }\n\n  private sendMessage(message: unknown): boolean {\n    if (!this.isOpen) {\n      return false;\n    }\n\n    this.webSocket.send(JSON.stringify(message));\n    return true;\n  }\n\n  private subscribeToEventMediator(): boolean {\n    if (!this.isOpen) {\n      return false;\n    }\n\n    this.eventMediator.subscribe(MEDIATOR_EVENTS.CREATE_NEW_USER, (message) => {\n      this.sendMessage(message);\n    });\n\n    this.eventMediator.subscribe(MEDIATOR_EVENTS.LOG_OUT, (message) => {\n      this.sendMessage(message);\n    });\n    return true;\n  }\n}\n\nexport default ClientApiModel;\n","import MEDIATOR_EVENTS from '../../../Mediator/types/enums.ts';\nimport MediatorModel from '../../../Mediator/model/MediatorModel.ts';\nimport { EVENT_NAMES } from '../../../types/enums.ts';\nimport { API_TYPES } from '../types/enums.ts';\nimport type { Message } from '../../../../utils/isFromServerMessage.ts';\nimport { isFromServerMessage } from '../../../../utils/isFromServerMessage.ts';\n\nclass ServerApiModel {\n  private webSocket: WebSocket;\n\n  private isOpen: boolean;\n\n  private eventMediator = MediatorModel.getInstance();\n\n  constructor(webSocket: WebSocket, isOpen: boolean) {\n    this.webSocket = webSocket;\n    this.isOpen = isOpen;\n    this.getMessage();\n  }\n\n  public isWorks(): boolean {\n    return this.isOpen;\n  }\n\n  private getMessage(): boolean {\n    if (!this.isOpen) {\n      return false;\n    }\n\n    this.webSocket.addEventListener(EVENT_NAMES.MESSAGE, ({ data }) => {\n      const message: unknown = JSON.parse(String(data));\n      const checkedMessage = isFromServerMessage(message);\n      if (checkedMessage) {\n        this.handleMessageType(checkedMessage);\n      }\n    });\n    return true;\n  }\n\n  private handleMessageType(message: Message): null | boolean {\n    switch (message.type) {\n      case API_TYPES.USER_LOGIN: {\n        this.eventMediator.notify(MEDIATOR_EVENTS.SET_NEW_USER, message);\n        return true;\n      }\n      case API_TYPES.ERROR: {\n        this.eventMediator.notify(MEDIATOR_EVENTS.SET_NEW_USER, message);\n        return false;\n      }\n      default: {\n        return null;\n      }\n    }\n  }\n}\n\nexport default ServerApiModel;\n","import { EVENT_NAMES } from '../../../types/enums.ts';\nimport ClientApiModel from '../../ClientApi/model/ClientApiModel.ts';\nimport ServerApiModel from '../../ServerApi/model/ServerApiModel.ts';\nimport API_URL from '../../ServerApi/types/enums.ts';\n\nclass SocketModel {\n  private webSocket = new WebSocket(API_URL);\n\n  private isOpen = false;\n\n  public open(): Promise<boolean> {\n    return new Promise((resolve) => {\n      this.webSocket.addEventListener(EVENT_NAMES.OPEN, () => {\n        this.isOpen = true;\n        this.init();\n        resolve(true);\n      });\n    });\n  }\n\n  public isWorks(): boolean {\n    return this.isOpen;\n  }\n\n  public close(): boolean {\n    this.webSocket.addEventListener(EVENT_NAMES.CLOSE, () => {\n      this.isOpen = false;\n    });\n\n    return this.isOpen;\n  }\n\n  private init(): boolean {\n    const serverApi = new ServerApiModel(this.webSocket, this.isOpen);\n    const clientApi = new ClientApiModel(this.webSocket, this.isOpen);\n    clientApi.isWorks();\n    serverApi.isWorks();\n    return this.isOpen;\n  }\n}\n\nexport default SocketModel;\n","import STORE_KEYS from '../types/enums.ts';\n\nclass SessionStorageModel {\n  private storage: Record<string, string>;\n\n  constructor() {\n    this.storage = this.init();\n  }\n\n  public get(key: string): unknown {\n    if (key in this.storage) {\n      const result: unknown = JSON.parse(this.storage[key]);\n      return result;\n    }\n    return null;\n  }\n\n  public add(key: string, value: string): boolean {\n    this.storage[key] = value;\n    this.save(this.storage);\n    return true;\n  }\n\n  public remove(key: string): boolean {\n    if (key in this.storage) {\n      delete this.storage[key];\n      this.save(this.storage);\n      return true;\n    }\n\n    return false;\n  }\n\n  public clear(): boolean {\n    sessionStorage.clear();\n    this.init();\n    return true;\n  }\n\n  private save(data: Record<string, string>): boolean {\n    sessionStorage.setItem(STORE_KEYS.SS_NAME, JSON.stringify(data));\n    this.storage = this.init();\n    return true;\n  }\n\n  private init(): Record<string, string> {\n    const storedData = sessionStorage.getItem(STORE_KEYS.SS_NAME);\n\n    if (storedData) {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      this.storage = JSON.parse(storedData);\n    } else {\n      sessionStorage.setItem(STORE_KEYS.SS_NAME, '{}');\n      this.storage = this.init();\n    }\n\n    return this.storage;\n  }\n}\n\nexport default SessionStorageModel;\n","import MainPageModel from '../../../pages/MainPage/model/MainPageModel.ts';\nimport AboutPageModel from '../../../pages/AboutPage/model/AboutPageModel.ts';\nimport LoginPageModel from '../../../pages/LoginPage/model/LoginPageModel.ts';\nimport PAGES_IDS from '../../../pages/types/enums.ts';\nimport type PageInterface from '../../../pages/types/interfaces.ts';\nimport RouterModel from '../../Router/model/RouterModel.ts';\nimport AppView from '../view/AppView.ts';\nimport HeaderModel from '../../../widgets/Header/model/HeaderModel.ts';\nimport SocketModel from '../../../shared/Server/Socket/model/SocketModel.ts';\nimport SessionStorageModel from '../../../shared/SessionStorage/model/SessionStorage.ts';\n\nclass AppModel {\n  private appView: AppView = new AppView();\n\n  private storage = new SessionStorageModel();\n\n  private serverApi: SocketModel = new SocketModel();\n\n  private router = new RouterModel();\n\n  constructor() {\n    this.router.setPages(this.initPages());\n    this.serverApi.open().catch(() => {});\n  }\n\n  public getHTML(): HTMLDivElement {\n    return this.appView.getHTML();\n  }\n\n  private initPages(): Map<string, PageInterface> {\n    const root = this.getHTML();\n    root.prepend(new HeaderModel(this.router, this.storage).getHTML());\n    const loginPage = new LoginPageModel(root, this.router, this.storage);\n    const mainPage = new MainPageModel(root, this.router);\n    const aboutPage = new AboutPageModel(root);\n    const pages: Map<string, PageInterface> = new Map(\n      Object.entries({\n        [PAGES_IDS.DEFAULT_PAGE]: loginPage,\n        [PAGES_IDS.LOGIN_PAGE]: loginPage,\n        [PAGES_IDS.MAIN_PAGE]: mainPage,\n        [PAGES_IDS.ABOUT_PAGE]: aboutPage,\n      }),\n    );\n    return pages;\n  }\n}\n\nexport default AppModel;\n","import AppModel from './app/App/model/AppModel.ts';\nimport './index.scss';\n\nconst myApp = new AppModel();\ndocument.body.append(myApp.getHTML());\n"],"names":["index","AboutPageView","LoginPageView","STORE_KEYS","logoutButton","userLogin","loginPage","mainPage","aboutPage"],"mappings":"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"}